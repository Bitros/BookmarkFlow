function enable_btn(){document.querySelector("#save_gh_profile").disabled=!1}window.onload=function(){document.querySelectorAll("input").forEach(async e=>{const o=await chrome.storage.local.get([e.id]);o[e.id]&&(console.debug("get "+e.id+" value "+o[e.id]),document.querySelector("#"+e.id).value=o[e.id])}),document.querySelector("#save_gh_profile").disabled=!0};const re=/\d/g;document.querySelector("#save_gh_profile").onclick=function(){this.disabled=!0;const e=document.querySelector("#gh_token").value;e?chrome.storage.local.set({gh_token:e},()=>{console.debug("set gh_token : "+e),chrome.runtime.sendMessage({from:"pop",gh_token:e},e=>{console.debug(e)})}):chrome.storage.local.remove(["gh_token"],()=>{console.debug("remove gh_token"),chrome.runtime.sendMessage({from:"pop"},e=>{console.debug(e)})});let o=document.querySelector("#interval").value;o=o.trim().match(re)?parseInt(o):1,chrome.alarms.clearAll(),chrome.alarms.create({periodInMinutes:o}),console.debug("set interval : "+o),chrome.storage.local.set({interval:o})},document.querySelector("#sync_now").onclick=async function(){this.disabled=!0;const e=await chrome.runtime.sendMessage({from:"pop",sync_now:!0});console.debug(e),this.disabled=!1},document.querySelector("#gh_token").oninput=enable_btn,document.querySelector("#interval").oninput=enable_btn;